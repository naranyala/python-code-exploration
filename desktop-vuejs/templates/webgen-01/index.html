<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Developer Profile</title>
  <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mermaid/10.6.1/mermaid.min.js"></script>
  <style>
    :root {
      --primary-color: #64b5f6;
      --text-color: #e2e8f0;
      --bg-primary: #1f2937;
      --bg-secondary: #111827;
      --card-bg: #374151;
    }

    body {
      font-family: system-ui, -apple-system, sans-serif;
      margin: 0;
      padding: 20px;
      color: var(--text-color);
      background-color: var(--bg-secondary);
      max-width: 800px;
      margin: 0 auto;
    }

    header {
      text-align: center;
      padding: 20px;
      background-color: var(--bg-primary);
      border-radius: 8px;
      margin-bottom: 20px;
    }

    nav {
      display: flex;
      justify-content: center;
      gap: 15px;
      margin-bottom: 20px;
    }

    nav a {
      text-decoration: none;
      color: var(--text-color);
      padding: 8px 12px;
      border-radius: 4px;
      border: 1px solid var(--primary-color);
    }

    nav a:hover,
    nav a.router-link-active {
      background-color: var(--primary-color);
      color: var(--bg-secondary);
    }

    .view {
      background-color: var(--bg-primary);
      padding: 20px;
      border-radius: 8px;
    }

    .blog-post {
      background-color: var(--card-bg);
      padding: 15px;
      border-radius: 8px;
      margin-bottom: 15px;
      cursor: pointer;
    }

    .back Facade .back-button {
      background: none;
      border: 1px solid var(--primary-color);
      color: var(--primary-color);
      padding: 8px 12px;
      border-radius: 4px;
      cursor: pointer;
      margin-bottom: 15px;
    }

    .back-button:hover {
      background-color: var(--primary-color);
      color: var(--bg-secondary);
    }

    footer {
      text-align: center;
      padding: 20px;
      background-color: var(--bg-primary);
      border-radius: 8px;
      margin-top: 20px;
      color: #9ca3af;
    }

    .social-links a {
      color: #9ca3af;
      margin: 0 10px;
      text-decoration: none;
    }

    .social-links a:hover {
      color: var(--primary-color);
    }

    .skills-container {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-top: 10px;
    }

    .skill-chip {
      background-color: var(--card-bg);
      padding: 5px 10px;
      border-radius: 20px;
      font-size: 14px;
    }

    pre {
      background: #1a202c;
      padding: 10px;
      border-radius: 8px;
      overflow-x: auto;
      font-family: monospace;
    }

    .code-block {
      position: relative;
      margin: 20px 0;
    }

    .code-language {
      position: absolute;
      top: 10px;
      right: 15px;
      background: rgba(100, 181, 246, 0.2);
      color: var(--primary-color);
      padding: 2px 8px;
      border-radius: 4px;
      font-size: 12px;
      text-transform: uppercase;
    }

    .mermaid {
      text-align: center;
      margin: 20px 0;
      background: var(--card-bg);
      border-radius: 8px;
      padding: 20px;
    }
  </style>
</head>

<body>
  <script type="application/json" id="profileData">
    {
      "profile": {
        "name": "Alex Johnson",
        "tagline": "Full Stack Developer",
        "role": "Senior Software Engineer",
        "experience": "building scalable web applications",
        "skills": ["JavaScript/TypeScript", "Vue.js/React", "Node.js/Python", "AWS/Cloud Architecture"],
        "contact": {
          "email": "alex.johnson@example.com",
          "github": "alexdev",
          "twitter": "alex_tweets",
          "linkedin": "alexjohnson-dev"
        }
      }
    }
  </script>
  <script type="application/json" id="blogData">
    {
      "posts": [
        {
          "id": 1,
          "title": "Mastering Vue 3 Composition API",
          "date": "2023-07-10",
          "summary": "Learn how to effectively use the Composition API in Vue 3",
          "content": [
            "The Composition API in Vue 3 represents a significant shift in how we organize component logic.",
            "Unlike the Options API which organizes code by options (data, methods, computed, etc.), the Composition API allows us to organize code by logical concerns.",
            "Here's a basic example of converting from Options API to Composition API:"
          ],
          "code": {
            "language": "javascript",
            "content": "// Options API\nconst app = {\n  data() {\n    return { count: 0 }\n  },\n  methods: {\n    increment() { this.count++ }\n  }\n}\n\n// Composition API\nconst app = {\n  setup() {\n    const count = ref(0)\n    const increment = () => { count.value++ }\n    return { count, increment }\n  }\n}"
          }
        },
        {
          "id": 2,
          "title": "Modern CSS Layout Techniques",
          "date": "2023-06-22",
          "summary": "Exploring Flexbox, Grid, and Container Queries",
          "content": [
            "CSS has evolved tremendously in recent years, offering developers powerful layout tools.",
            "Flexbox revolutionized one-dimensional layouts, while Grid gave us precise two-dimensional control.",
            "Now with Container Queries, we can create components that adapt to their container size rather than just the viewport."
          ],
          "code": {
            "language": "css",
            "content": ".card {\n  container-type: inline-size;\n}\n\n@container (min-width: 400px) {\n  .card {\n    display: flex;\n    gap: 1rem;\n  }\n}"
          }
        },
        {
          "id": 3,
          "title": "System Architecture: Microservices Flow",
          "date": "2023-06-15",
          "summary": "Understanding microservices architecture with visual diagrams",
          "content": [
            "Microservices architecture breaks down applications into smaller, independent services.",
            "Each service has its own database and communicates through well-defined APIs.",
            "Here's a typical flow diagram showing how different services interact:"
          ],
          "diagram": {
            "type": "mermaid",
            "content": "graph TD\n    A[Client] --> B[API Gateway]\n    B --> C[Auth Service]\n    B --> D[User Service]\n    B --> E[Order Service]\n    D --> F[(User DB)]\n    E --> G[(Order DB)]\n    C --> H[(Auth DB)]\n    E --> I[Payment Service]\n    I --> J[External Payment API]"
          }
        },
        {
          "id": 4,
          "title": "Database Design Patterns",
          "date": "2023-06-01",
          "summary": "Common database relationships and their implementations",
          "content": [
            "Database design is crucial for application performance and maintainability.",
            "Understanding relationships between entities helps create efficient schemas.",
            "Here's an Entity-Relationship diagram for a typical e-commerce system:"
          ],
          "diagram": {
            "type": "mermaid",
            "content": "erDiagram\n    USER {\n        int id PK\n        string email\n        string name\n        datetime created_at\n    }\n    ORDER {\n        int id PK\n        int user_id FK\n        decimal total\n        string status\n        datetime created_at\n    }\n    ORDER_ITEM {\n        int id PK\n        int order_id FK\n        int product_id FK\n        int quantity\n        decimal price\n    }\n    PRODUCT {\n        int id PK\n        string name\n        text description\n        decimal price\n        int stock\n    }\n    USER ||--o{ ORDER : places\n    ORDER ||--o{ ORDER_ITEM : contains\n    PRODUCT ||--o{ ORDER_ITEM : included_in"
          }
        }
      ]
    }
  </script>

  <div id="app">
    <header>
      <h1>{{ profile.name }}</h1>
      <p>{{ profile.tagline }}</p>
    </header>
    <nav>
      <a @click="currentView = 'home'" :class="{ 'router-link-active': currentView === 'home' }">Home</a>
      <a @click="currentView = 'about'" :class="{ 'router-link-active': currentView === 'about' }">About</a>
      <a @click="currentView = 'blog'" :class="{ 'router-link-active': currentView === 'blog' }">Blog</a>
      <a @click="currentView = 'contact'" :class="{ 'router-link-active': currentView === 'contact' }">Contact</a>
    </nav>
    <main>
      <div v-if="currentView === 'home'" class="view">
        <h2>Welcome</h2>
        <p>I'm passionate about {{ profile.experience }}.</p>
      </div>
      <div v-if="currentView === 'about'" class="view">
        <h2>About Me</h2>
        <p>{{ profile.role }} with experience in {{ profile.experience }}.</p>
        <h3>Skills</h3>
        <div class="skills-container">
          <div v-for="skill in profile.skills" :key="skill" class="skill-chip">{{ skill }}</div>
        </div>
      </div>
      <div v-if="currentView === 'blog'" class="view">
        <h2>Blog Posts</h2>
        <div v-for="post in blogPosts" :key="post.id" class="blog-post" @click="viewPost(post.id)">
          <h3>{{ post.title }}</h3>
          <p>{{ post.summary }}</p>
          <small>{{ formatDate(post.date) }}</small>
        </div>
      </div>
      <div v-if="currentView === 'post'" class="view">
        <button class="back-button" @click="currentView = 'blog'">Back to Blog</button>
        <h2>{{ currentPost.title }}</h2>
        <small>{{ formatDate(currentPost.date) }}</small>
        <p v-for="(paragraph, index) in currentPost.content" :key="index">{{ paragraph }}</p>
        <div v-if="currentPost.code" class="code-block">
          <div class="code-language">{{ currentPost.code.language }}</div>
          <pre><code :class="'language-' + currentPost.code.language">{{ currentPost.code.content }}</code></pre>
        </div>
        <div v-if="currentPost.diagram" class="mermaid" :id="'diagram-' + currentPost.id">
          {{ currentPost.diagram.content }}
        </div>
      </div>
      <div v-if="currentView === 'contact'" class="view">
        <h2>Contact</h2>
        <p>Email: {{ profile.contact.email }}</p>
        <div class="social-links">
          <a :href="'https://github.com/' + profile.contact.github" target="_blank">GitHub</a>
          <a :href="'https://twitter.com/' + profile.contact.twitter" target="_blank">Twitter</a>
          <a :href="'https://linkedin.com/in/' + profile.contact.linkedin" target="_blank">LinkedIn</a>
        </div>
      </div>
    </main>
    <footer>
      <p>&copy; {{ new Date().getFullYear() }} {{ profile.name }}</p>
    </footer>
  </div>

  <script>
    const {createApp, ref, onMounted, nextTick} = Vue;
    mermaid.initialize({
      startOnLoad: false,
      theme: 'dark',
      themeVariables: {
        primaryColor: '#64b5f6',
        primaryTextColor: '#e2e8f0',
        primaryBorderColor: '#64b5f6',
        lineColor: '#9ca3af',
        background: '#374151',
        mainBkg: '#374151',
        secondBkg: '#4b5563'
      }
    });

    createApp({
      setup() {
        const profile = ref(JSON.parse(document.getElementById('profileData').textContent).profile);
        const blogPosts = ref(JSON.parse(document.getElementById('blogData').textContent).posts);
        const currentView = ref('home');
        const currentPost = ref(null);

        const viewPost = async (postId) => {
          currentPost.value = blogPosts.value.find(post => post.id === postId);
          currentView.value = 'post';
          await nextTick();
          if (currentPost.value.code) {
            Prism.highlightAll();
          }
          if (currentPost.value.diagram) {
            const diagramId = `diagram-${currentPost.value.id}`;
            const element = document.getElementById(diagramId);
            if (element) {
              try {
                element.innerHTML = currentPost.value.diagram.content;
                mermaid.init(undefined, element);
              } catch (error) {
                console.error('Mermaid rendering error:', error);
                element.innerHTML = '<p style="color: #ef4444;">Error rendering diagram.</p>';
              }
            }
          }
        };

        const formatDate = (dateString) => {
          return new Date(dateString).toLocaleDateString('en-US', {year: 'numeric', month: 'long', day: 'numeric'});
        };

        onMounted(() => {
          Prism.highlightAll();
        });

        return {profile, blogPosts, currentView, currentPost, viewPost, formatDate};
      }
    }).mount('#app');
  </script>
</body>

</html>
